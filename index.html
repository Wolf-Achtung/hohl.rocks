<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>hohl.rocks — Wolf Hohl · KI-Manager</title>
  <link rel="icon" href="/favicon.ico" />
  <style>
    html,body{height:100%;margin:0;background:#0a1118;color:#eaf2ff;font:500 16px/1.45 ui-sans-serif,system-ui}
    .stage{position:fixed;inset:0;overflow:hidden}
    #bg-video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:brightness(1) contrast(1.05)}
    /* layer for shapes (if your hero-shapes.js uses one) */
    #shape-layer{position:absolute;inset:0;pointer-events:auto}
    /* chat dock (very lightweight – your CSS can override) */
    .chat-dock{position:fixed;right:22px;bottom:22px;z-index:40;background:rgba(12,16,22,.72);
      border:1px solid rgba(255,255,255,.14);backdrop-filter:blur(10px);padding:10px;border-radius:18px;display:flex;gap:8px;align-items:center}
    .chat-dock input{width:min(48vw,360px);max-width:68vw;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.16);
      color:#eaf2ff;border-radius:999px;padding:10px 14px;outline:none}
    .chat-dock button{background:#1b66ff;border:0;color:#fff;border-radius:999px;padding:9px 12px;cursor:pointer}
    .chat-dock .ghost{background:rgba(255,255,255,.10);border:1px solid rgba(255,255,255,.18);color:#eaf2ff}
    /* output panel (optional; ChatDock erzeugt es automatisch, falls nicht vorhanden) */
    #chat-output{position:fixed;right:22px;bottom:92px;width:min(640px,88vw);max-height:min(58vh,460px);overflow:auto;
      background:rgba(12,16,22,.62);border:1px solid rgba(255,255,255,.12);backdrop-filter:blur(10px);border-radius:18px;padding:12px;display:none;z-index:42}
    #chat-output.show{display:block}
    .bubble-row{margin:8px 0;display:flex}
    .bubble-row.user .b-inner{margin-left:auto;background:rgba(255,255,255,.08)}
    .bubble-row.assistant .b-inner{margin-right:auto;background:rgba(27,102,255,.13)}
    .b-inner{padding:10px 12px;border-radius:14px;border:1px solid rgba(255,255,255,.16)}
    /* Datenschutz-Button Platzhalter unten links (falls vorhanden) */
    .privacy-slot{position:fixed;left:14px;bottom:14px;z-index:34}
  </style>
</head>
<body>
  <main class="stage" aria-label="Highway-Video mit organischen Neon-Shapes">
    <video id="bg-video" autoplay playsinline loop muted>
      <source src="/videos/desert_drive.mp4" type="video/mp4" />
    </video>
    <div id="shape-layer"></div>
  </main>

  <!-- Chat Dock -->
  <div id="chat-output" aria-live="polite"></div>
  <div class="chat-dock">
    <input id="chat-input" type="text" placeholder="Frage stellen… (KI, EU)"/>
    <button id="photo-btn" class="ghost" title="Foto nutzen">Foto</button>
    <button id="chat-send">Senden</button>
  </div>

  <div class="privacy-slot" id="privacy-slot"></div>

  <script>
    // Konfiguration: Railway-Backend & Systemprompt
    window.HOHLROCKS_CHAT_BASE = 'https://hohlrocks-production.up.railway.app';
    window.WOLF_SYSTEM_PROMPT = [
      "Du antwortest im Namen von Wolf Hohl – TÜV‑zertifizierter KI‑Manager.",
      "Ton: seriös, prägnant, deutsch, winter‑klar, freundlich.",
      "Erstantwort maximal 3 Sätze. Wo sinnvoll: 1 kurzes Beispiel, 1 pragmatischer nächster Schritt.",
      "Beziehe dich – wenn passend – auf Wolfs Erfahrung (30 Jahre Marketing/Kommunikation, Trailer, >50 Mio Umsatz) und Rolle als KI‑Manager.",
      "Keine Buzzword‑Orgel. Falls unsicher: kurz Risiko/Trade‑off erwähnen."
    ].join(" ");
  </script>

  <!-- Deine bestehenden Skripte für Shapes etc. -->
  <link rel="stylesheet" href="/hero-shapes.css?v=sp2">
  <script src="/hero-shapes.js?v=sp2"></script>

  <!-- Analytics (lokal) -->
  <script src="/analytics-lite.js?v=1"></script>

  <!-- Ticker (Inhalte → Laufband) -->
  <script src="/ticker-items.js?v=gc3"></script>
  <script src="/ticker.js?v=send5"></script>

  <!-- Chat-Client (SSE + Backoff) -->
  <script src="/js/chatbox-stream.js?v=chat4"></script>
  <script>
    // ChatDock initialisieren
    document.addEventListener('DOMContentLoaded', function(){
      if (window.ChatDock && ChatDock.initChatDock){
        ChatDock.initChatDock({
          inputSel:'#chat-input',
          buttonSel:'#chat-send',
          systemPrompt: window.WOLF_SYSTEM_PROMPT,
          model: 'gpt-4o-mini'
        });
      }
    });
  </script>

  <!-- Spotlight + Micro-Demos + Foto-Flows + Style-Switcher -->
  <script src="/spotlight-card.js?v=1"></script>
  <script src="/micro-demos.js?v=1"></script>
  <script src="/photo-flows.js?v=1"></script>
  <script src="/style-switcher.js?v=1"></script>

  <!-- Motorsound (Harley) -->
  <script src="/harley-lite.js?v=3"></script>
  <script>
    // Sound erst nach User-Geste starten, dann weich absenken
    window.addEventListener('pointerdown', function once(){
      try{ HarleyLite.startAmbient(900); }catch(e){}
      window.removeEventListener('pointerdown', once, { capture:false });
    }, { capture:false, once:true });
  </script>
</body>
</html>