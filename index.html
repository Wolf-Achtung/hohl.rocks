<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wolf Hohl – KI‑Manager &amp; Visionär</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <!-- Import a modern sans serif and a monospace for glitch effect -->
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;700&family=IBM+Plex+Mono:wght@400;700&display=swap" rel="stylesheet" />
  </head>
  <body>
    <!-- Menu button triggers overlay navigation -->
    <button id="menu-button" aria-label="Menü öffnen">
      <span class="menu-icon">≡</span>
    </button>
    <!-- Navigation overlay -->
    <nav id="nav-overlay" class="nav-overlay">
      <button id="close-nav" aria-label="Menü schließen">×</button>
      <ul class="nav-menu">
        <li><a href="#" data-target="aboutContent">about me</a></li>
        <li><a href="#" data-target="projectsContent">projects</a></li>
        <li><a href="#" data-target="contactContent">contact</a></li>
      </ul>
    </nav>
    <section class="hero" id="hero">
      <!-- Background video -->
      <video class="hero-video" autoplay muted loop playsinline>
        <source src="videos/desert_drive.mp4" type="video/mp4" />
        Ihr Browser unterstützt das Videoformat nicht.
      </video>
      <!-- Dark overlay to improve contrast -->
      <div class="hero-overlay"></div>
      <!-- Floating organic shapes -->
      <div id="shape-container">
        <div class="shape" id="shape1"></div>
        <div class="shape" id="shape2"></div>
        <div class="shape" id="shape3"></div>
      </div>
      <!-- Floating chat widget: always visible and gently drifting. When clicked it stops moving -->
      <div id="floating-chat" class="floating-chat">
        <div id="floating-chat-messages" class="floating-chat-messages"></div>
        <form id="floating-chat-form" class="floating-chat-form">
          <input type="text" id="floating-chat-input" placeholder="Frage stellen…" autocomplete="off" />
          <button type="submit" aria-label="Senden">→</button>
        </form>
      </div>
      <!-- No text here: hero focuses solely on video and shapes -->
    </section>
    <!-- Hidden contents for dynamic overlay -->
    <div id="hidden-contents" style="display:none;">
      <div id="aboutContent">
        <h3>Über mich</h3>
        <p>
          Ich bin Wolf Hohl, zertifizierter KI‑Manager, Texter und Berater mit über
          30 Jahren Marketing‑ und Kommunikationserfahrung. Nach vielen Jahren als
          Geschäftsführer im Bereich Kino‑Trailer setze ich mein Wissen nun dafür
          ein, Unternehmen fit für die KI‑Zukunft zu machen – transparent,
          nachvollziehbar und compliant.
        </p>
      </div>
      <div id="projectsContent">
        <h3>Projekte</h3>
        <div class="projects-grid">
          <div class="project-card">
            <h4>ki‑sicherheit.jetzt</h4>
            <p>
              Sicherheit und Compliance für den AI Act: Wie Sie Risiken
              identifizieren, einstufen und kontrollieren können.
            </p>
            <a href="https://ki-sicherheit.jetzt" target="_blank" rel="noopener" class="btn ghost-btn">Website besuchen</a>
          </div>
          <div class="project-card">
            <h4>achtung‑live.jetzt</h4>
            <p>
              Der Airbag für digitale Kommunikation: Echtzeit‑Monitoring ohne
              Tracking und voll DSGVO‑konform.
            </p>
            <a href="https://achtung.live" target="_blank" rel="noopener" class="btn ghost-btn">Mehr erfahren</a>
          </div>
          <div class="project-card">
            <h4>Nah</h4>
            <p>
              Eine Plattform, die Nahbarkeit und Austausch durch KI ermöglicht.
            </p>
            <a href="#" class="btn ghost-btn">In Kürze</a>
          </div>
        </div>
      </div>
      <div id="contactContent">
        <h3>Kontakt</h3>
        <p>Sie möchten Ihr Unternehmen fit für die KI‑Zukunft machen? Schreiben Sie mir!</p>
        <form id="contact-form">
          <input type="text" name="name" placeholder="Ihr Name" required />
          <input type="email" name="email" placeholder="Ihre E‑Mail" required />
          <textarea name="message" placeholder="Ihre Nachricht" rows="4" required></textarea>
          <button type="submit" class="btn primary-btn">Absenden</button>
        </form>
      </div>

      <div id="chatContent">
        <h3>Chatbot</h3>
        <div id="chat-window" class="chat-window"></div>
        <form id="chat-form">
          <input type="text" id="chat-input" placeholder="Stellen Sie mir eine Frage zur KI…" autocomplete="off" required />
          <button type="submit" class="btn primary-btn">Senden</button>
        </form>
        <p class="chat-note">Die Antworten werden von einer KI generiert. Sie benötigen einen API‑Key in <code>script.js</code>.</p>
      </div>

    </div>

    <!-- Info overlay displayed when a shape or nav link is clicked -->
    <div id="info-overlay" class="info-overlay">
      <div class="info-container">
        <!-- Animated neon ring surrounding the content -->
        <svg class="ring-svg" viewBox="0 0 100 100" preserveAspectRatio="none">
          <ellipse cx="50" cy="50" rx="48" ry="47" fill="none" stroke="currentColor" stroke-width="2"></ellipse>
        </svg>
        <button id="close-info" aria-label="Schließen">×</button>
        <div id="info-content" class="info-content"></div>
      </div>
    </div>

    <footer class="footer">
      <p>&copy; 2025 Wolf Hohl. Alle Rechte vorbehalten.</p>
    </footer>
    <!-- Provide a global variable for the OpenAI API key. You can set this via server configuration or .env injection. -->
    <script>
      // Set this value from your hosting environment (e.g., Railway) or replace it manually.
      window.OPENAI_API_KEY = '';
    </script>
    <script src="script.js"></script>
<!-- 1) Ambient-Preset festlegen (kannst du je Seite ändern) -->
<script>window.DESERT_AUDIO_PRESET = 'blue-noon';</script>

<!-- 2) Ambient laden -->
<link rel="stylesheet" href="/audio-generative.css?v=2">
<script defer src="/audio-generative.js?v=2"></script>

<!-- 3) Engine laden -->
<script defer src="/engine-sim.js?v=fix"></script>

<!-- 4) Gemeinsamer Start: Engine sim hängt sich an den gleichen Toggle
       und kann optional automatisch beim 1. Klick/Key starten -->
<script>
  window.addEventListener('DOMContentLoaded', () => {
    EngineSim.init({
      mode: 'motorcycle',             // 'v12' | 'motorcycle'
      rpm: 1100,
      volume: 0.12,
      attachToggle: true,      // erzeugt #sound-toggle, wenn keiner existiert
      autoStartOnGesture: true // startet beim ersten Pointerdown/Key
    });
  });
</script>
<style>
  .audio-cta{position:fixed;inset:auto auto 1rem 1rem;z-index:9999;
    padding:.6rem .9rem;border-radius:999px;border:1px solid rgba(57,255,20,.35);
    background:linear-gradient(135deg,rgba(0,255,170,.16),rgba(0,128,255,.16));
    color:#e9fbff;font:600 13px/1.1 Inter,system-ui;backdrop-filter:blur(8px)}
  .audio-cta.hide{display:none}
</style>
<div id="audioCTA" class="audio-cta">Klick für Sound</div>
<script>
  const _cta = document.getElementById('audioCTA');
  const _hideCTA = ()=> _cta && _cta.classList.add('hide');
  window.addEventListener('pointerdown', _hideCTA, {once:true});
  window.addEventListener('keydown', _hideCTA, {once:true});
</script>
<!-- Engine nur initialisieren; kein Toggle, kein Autostart -->
<script defer src="/engine-sim.js?v=fix2"></script>
<script>
  window.addEventListener('DOMContentLoaded', () => {
    EngineSim.init({
      mode: 'v12',
      rpm: 1500,
      volume: 0.28,
      attachToggle: false,   // kein #sound-toggle, wir steuern programmatic
      autoStartOnGesture: false
    });
  });
</script>
// ----- Bubble→Sound Binding ---------------------------------
(function () {
  const shapes = Array.from(document.querySelectorAll('.shape'));
  let activeShape = null;

  // pro Bubble ein Sound-Setup (kannst du frei mappen)
  const profileFor = el => {
    switch (el.id) {
      case 'shape1': return { mode: 'v12',        rpm: 1800, vol: 0.30 };
      case 'shape2': return { mode: 'motorcycle', rpm: 1100, vol: 0.36 };
      case 'shape3': return { mode: 'v12',        rpm: 2400, vol: 0.32 };
      default:       return { mode: 'v12',        rpm: 1500, vol: 0.28 };
    }
  };

  async function startFor(el){
    const p = profileFor(el);
    EngineSim.setMode(p.mode);
    EngineSim.setRPM(p.rpm);
    EngineSim.setVolume(p.vol);
    await EngineSim.start();                // Nutzerklick → erlaubt Start
  }

  async function stopAll(){
    await EngineSim.stop();
    if (activeShape) activeShape.classList.remove('playing');
    activeShape = null;
  }

  shapes.forEach(el => {
    el.addEventListener('click', async ev => {
      ev.stopPropagation();

      if (activeShape === el) {
        // gleicher Bubble → aus
        await stopAll();
        return;
      }
      // anderer Bubble → alten aus, neuen an
      if (activeShape) activeShape.classList.remove('playing');
      activeShape = el;
      el.classList.add('playing');

      await EngineSim.start();              // resume falls nötig
      await startFor(el);
    });
  });

  // Klick auf „Hintergrund“ → Sound aus
  document.addEventListener('click', (e) => {
    if (!e.target.closest('.shape')) stopAll();
  });

  // Touch-Support
  document.addEventListener('touchstart', ()=>{}, {passive:true});
})();

/* Dock vollständig killen, falls im Build noch vorhanden */
.engine-dock, .sound-toggle, .engine-ui { display:none !important; }

/* Optional: aktiver Bubble-State (dezente Neon-Kante) */
.shape.playing {
  box-shadow: 0 0 38px 8px rgba(57,255,20,.20), inset 0 0 24px rgba(0,200,255,.18);
  outline: 2px solid rgba(57,255,20,.35);
}

  </body>
</html>