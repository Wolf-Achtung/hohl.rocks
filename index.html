<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>hohl.rocks — Wolf Hohl · KI‑Manager</title>

  <style>
    html,body{height:100%;margin:0;background:#0a1118;color:#eaf2ff;font:500 16px/1.45 ui-sans-serif,system-ui}
    .stage{position:fixed;inset:0;overflow:hidden}
    #bg-video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:brightness(1) contrast(1.05)}
    #shape-layer{position:absolute;inset:0;pointer-events:auto}

    /* Chatdock (wird ausgeblendet; Ticker übernimmt die Eingabe) */
    .chat-dock{position:fixed;right:22px;bottom:22px;z-index:40;background:rgba(12,16,22,.72);
      border:1px solid rgba(255,255,255,.14);backdrop-filter:blur(10px);padding:10px;border-radius:18px;display:flex;gap:8px;align-items:center}
    .chat-dock input{width:min(48vw,360px);max-width:68vw;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.16);
      color:#eaf2ff;border-radius:999px;padding:10px 14px;outline:none}
    .chat-dock button{background:#1b66ff;border:0;color:#fff;border-radius:999px;padding:9px 12px;cursor:pointer}
    .chat-dock .ghost{background:rgba(255,255,255,.10);border:1px solid rgba(255,255,255,.18);color:#eaf2ff}

    /* Chat-Ausgabe (Spotlight zeigt die Antwort; Chat-Pane bleibt versteckt) */
    #chat-output{position:fixed;right:22px;bottom:92px;width:min(640px,88vw);max-height:min(58vh,460px);overflow:auto;
      background:rgba(12,16,22,.62);border:1px solid rgba(255,255,255,.12);backdrop-filter:blur(10px);border-radius:18px;padding:12px;display:none;z-index:42}
    #chat-output.show{display:block}

    /* globales Ausblenden für Spotlight-Modus */
    .chat-dock{ display:none !important; }
    #chat-output{ display:none !important; }

    /* --- Ticker sichtbar über Shapes halten --- */
    .ticker-wrap{ z-index: 1200 !important; }   /* Shapes gehen bis ~1000 */

    .privacy-slot{position:fixed;left:14px;bottom:14px;z-index:34}

    /* Ticker-Filter-Leiste */
    .ticker-filters{position:fixed;right:20px;bottom:22px;z-index:1201;display:flex;gap:8px}
    .ticker-filters button{background:rgba(20,28,36,.64);border:1px solid rgba(255,255,255,.16);color:#eaf2ff;border-radius:999px;padding:8px 12px;cursor:pointer;pointer-events:auto;backdrop-filter:blur(6px);font-size:14px}
    .ticker-filters button.active{background:#1b66ff;color:#fff}
  </style>

  <!-- Neon-Shapes Styles -->
  <link rel="stylesheet" href="/hero-shapes.css?v=sp2">
</head>
<body>
  <!-- Bühne -->
  <main class="stage" aria-label="Highway-Video mit organischen Neon-Shapes">
    <video id="bg-video" autoplay playsinline loop muted>
      <source src="/videos/desert_drive.mp4" type="video/mp4" />
    </video>
    <div id="shape-layer"></div>
  </main>

  <!-- (ausgeblendet) Chat-Ausgabe & Dock, nur für Kompatibilität vorhanden -->
  <div id="chat-output" aria-live="polite"></div>
  <div class="chat-dock" hidden>
    <input id="chat-input" type="text" placeholder="Frage stellen… (KI, EU)" />
    <button id="photo-btn" class="ghost" title="Foto nutzen">Foto</button>
    <button id="chat-send">Senden</button>
  </div>

  <div class="privacy-slot" id="privacy-slot"></div>

  <!-- Pre‑Ticker‑Nachricht: Überbrückt die Ladezeit des Tickers mit einem KI‑Fakt.
       Die Nachricht wird beim Laden zufällig aus einer Liste gewählt und
       bleibt sichtbar, bis der Ticker bereit ist (Ticker.js blendet sie aus)
       oder bis ein Timeout greift. -->
  <div id="pre-ticker-message" style="position:fixed;left:50%;bottom:120px;transform:translateX(-50%);z-index:1250;background:rgba(12,16,22,0.70);border:1px solid rgba(255,255,255,0.20);backdrop-filter:blur(8px);color:#eaf2ff;padding:12px 20px;border-radius:16px;font-size:14px;line-height:1.4;pointer-events:none;max-width:90vw;text-align:center;">
    <!-- Inhalt wird per Script eingesetzt -->
  </div>

  <script>
    // Liste von Pre-Ticker-Messages mit Tipps/Fakten zum Überbrücken der Ladezeit.
    const preMessages = [
      "🌟 Wussten Sie, dass KI heute ganze Film‑Trailer automatisch schneidet? Probieren Sie es aus – gleich startet der Ticker!",
      "🎨 Schon ausprobiert? Geben Sie ChatGPT den Prompt ‚Male ein Gemälde im Stil von Vincent van Gogh‘ – beeindruckend! Gleich geht’s los.",
      "🗒️ KI‑Quicktip: Langes PDF? Nutzen Sie ‚Fasse den Text zusammen: …‘ und ChatGPT liefert die Essenz. Der Ticker startet jeden Moment.",
      "🎸 Fun Fact: Moderne KI komponiert Songs im Stil Ihrer Lieblingsbands – wie wär’s mit Radiohead? Der Ticker kommt gleich.",
      "🧠 Wussten Sie? Kleine, lokale KI‑Modelle laufen direkt im Browser – perfekt für Privatsphäre. Gleich startet der Ticker.",
      "⚙️ Tipp: Lassen Sie ChatGPT Ihren Tagesplan erstellen – sagen Sie ‚Erstelle mir einen strukturierten Plan für heute‘. Bald erscheinen die Ticker‑News."
    ];
    document.addEventListener('DOMContentLoaded', function(){
      const pm = document.getElementById('pre-ticker-message');
      if(pm && preMessages.length){
        const idx = Math.floor(Math.random()*preMessages.length);
        pm.textContent = preMessages[idx];
      }
      // Fallback: Verstecke die Nachricht nach 10 Sekunden, falls Ticker sie nicht entfernt
      setTimeout(function(){
        if(pm && pm.style.display !== 'none'){ pm.style.display = 'none'; }
      }, 10000);
    });
  </script>

  <!-- Kategorie-Filter für den Ticker -->
  <div id="ticker-filters" class="ticker-filters">
    <button data-cat="" class="active">Alle</button>
    <button data-cat="news">News</button>
    <button data-cat="tips">Tipps</button>
    <button data-cat="prompts">Prompts</button>
    <button data-cat="projects">Projekte</button>
  </div>

  <!-- Globale Konfiguration -->
  <script>
    window.HOHLROCKS_CHAT_BASE = 'https://hohlrocks-production.up.railway.app';
    window.WOLF_SYSTEM_PROMPT = [
      "Du antwortest im Namen von Wolf Hohl – TÜV-zertifizierter KI-Manager.",
      "Ton: seriös, prägnant, deutsch, winter-klar, freundlich.",
      "Erstantwort maximal 3 Sätze. Wo sinnvoll: 1 kurzes Beispiel, 1 pragmatischer nächster Schritt.",
      "Beziehe dich – wenn passend – auf Wolfs Erfahrung (30 Jahre Marketing/Kommunikation, Trailer, >50 Mio Umsatz) und Rolle als KI-Manager.",
      "Keine Buzzword-Orgel. Falls unsicher: kurz Risiko/Trade-off erwähnen."
    ].join(" ");
    // Spotlight-Rendering aktivieren
    window.__ANSWER_MODE = 'spotlight';
  </script>

  <!-- Scripts: Shapes, Ticker, Spotlight, Demos -->
  <script src="/js/hero-shapes.js?v=sp3"></script>
  <script src="/js/analytics-lite.js?v=1"></script>

  <!-- Reihenfolge wichtig: Ticker-Items vor Ticker -->
  <script src="/js/ticker-items.js?v=melody3"></script>
  <!-- JSON-basierter Chat-Fetch (ersetzt ChatDock/SSE für den Ticker) -->
  <script src="/js/fetch-chat.js?v=json1"></script>
  <!-- Ticker-Engine -->
  <script src="/js/ticker.js?v=loop10"></script>

  <!-- Kategorie-Filter für den Ticker -->
  <script src="/js/ticker-filters.js?v=filter1"></script>

  <!-- Antwort-Popup -->
  <script src="/js/answer-popup.js?v=popup1"></script>

  <!-- Antwort-Overlay entfernt: Wir nutzen jetzt ein eigenes Popup (answer-popup.js) -->

  <!-- Micro-Demos & Foto-Flows & Style-Switcher -->
  <script src="/js/micro-demos.js?v=1"></script>
  <script src="/js/photo-flows.js?v=1"></script>
  <script src="/js/style-switcher.js?v=1"></script>

  <!-- Ambient-Melodie (Objekt: window.WolfMelody) + Autostart nach erster Geste -->
  <script src="/js/ambient-melody.js?v=rh2"></script>
  <script src="/js/ambient-melody-autostart.js?v=rh2"></script>

  <!-- Chat/SSE: gefixte Version (chat10 cache bust) -->
  <!-- Chat/SSE: gefixte Version (chat10 cache bust) -->
  <script src="/js/chatbox-stream.js?v=chat10"></script>

  <!-- Notfall: Ticker sofort bauen und starten (zweimal als Fallback) -->
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      try{ window.Ticker?.rebuild?.(); window.Ticker?.resume?.(); }catch(e){}
      setTimeout(()=>{ try{ window.Ticker?.rebuild?.(); window.Ticker?.resume?.(); }catch(e){} }, 1000);
    });
  </script>
</body>
</html>